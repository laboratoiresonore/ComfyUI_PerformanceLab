{
  "last_node_id": 20,
  "last_link_id": 18,
  "nodes": [
    {
      "id": 1,
      "type": "PerfLab_Timer",
      "pos": [100, 100],
      "size": {"0": 240, "1": 40},
      "flags": {},
      "order": 0,
      "mode": 0,
      "outputs": [
        {"name": "timer", "type": "PERF_TIMER", "links": [1]}
      ],
      "properties": {},
      "widgets_values": [],
      "title": "‚è±Ô∏è START: Timer"
    },
    {
      "id": 2,
      "type": "PerfLab_Report",
      "pos": [600, 100],
      "size": {"0": 300, "1": 100},
      "flags": {},
      "order": 1,
      "mode": 0,
      "inputs": [
        {"name": "trigger", "type": "*", "link": null},
        {"name": "timer", "type": "PERF_TIMER", "link": 1},
        {"name": "label", "type": "STRING", "link": null}
      ],
      "outputs": [
        {"name": "report", "type": "STRING", "links": [2, 9]},
        {"name": "duration_sec", "type": "FLOAT", "links": [3]},
        {"name": "peak_vram_gb", "type": "FLOAT", "links": [4]}
      ],
      "properties": {},
      "widgets_values": ["Baseline Run"],
      "title": "üìä END: Performance Report"
    },
    {
      "id": 3,
      "type": "PerfLab_ShowText",
      "pos": [600, 250],
      "size": {"0": 300, "1": 100},
      "flags": {},
      "order": 2,
      "mode": 0,
      "inputs": [
        {"name": "text", "type": "STRING", "link": 2}
      ],
      "outputs": [
        {"name": "text", "type": "STRING", "links": []}
      ],
      "properties": {},
      "widgets_values": [],
      "title": "üìä View Results"
    },
    {
      "id": 4,
      "type": "PerfLab_AutoFix",
      "pos": [100, 250],
      "size": {"0": 240, "1": 140},
      "flags": {},
      "order": 3,
      "mode": 0,
      "inputs": [
        {"name": "any_input", "type": "*", "link": null},
        {"name": "mode", "type": "STRING", "link": null},
        {"name": "model_hint", "type": "STRING", "link": null}
      ],
      "outputs": [
        {"name": "passthrough", "type": "*", "links": []},
        {"name": "status", "type": "STRING", "links": [5]},
        {"name": "recommendations", "type": "STRING", "links": []},
        {"name": "suggested_steps", "type": "INT", "links": [10]},
        {"name": "suggested_resolution", "type": "INT", "links": [11]},
        {"name": "suggested_cfg", "type": "FLOAT", "links": [12]}
      ],
      "properties": {},
      "widgets_values": ["Auto", "Auto-detect"],
      "title": "ü™Ñ AutoFix (GPU Detection)"
    },
    {
      "id": 5,
      "type": "PerfLab_ShowText",
      "pos": [100, 450],
      "size": {"0": 240, "1": 80},
      "flags": {},
      "order": 4,
      "mode": 0,
      "inputs": [
        {"name": "text", "type": "STRING", "link": 5}
      ],
      "outputs": [
        {"name": "text", "type": "STRING", "links": []}
      ],
      "properties": {},
      "widgets_values": [],
      "title": "üíª Your GPU Info"
    },
    {
      "id": 6,
      "type": "PerfLab_VRAMMonitor",
      "pos": [380, 100],
      "size": {"0": 180, "1": 80},
      "flags": {},
      "order": 5,
      "mode": 0,
      "inputs": [
        {"name": "passthrough", "type": "*", "link": null},
        {"name": "checkpoint_name", "type": "STRING", "link": null}
      ],
      "outputs": [
        {"name": "vram_info", "type": "STRING", "links": [6]},
        {"name": "used_gb", "type": "FLOAT", "links": []},
        {"name": "free_gb", "type": "FLOAT", "links": []},
        {"name": "passthrough", "type": "*", "links": []}
      ],
      "properties": {},
      "widgets_values": ["flux.1-dev"],
      "title": "üíæ VRAM Check"
    },
    {
      "id": 7,
      "type": "PerfLab_ShowText",
      "pos": [380, 220],
      "size": {"0": 180, "1": 60},
      "flags": {},
      "order": 6,
      "mode": 0,
      "inputs": [
        {"name": "text", "type": "STRING", "link": 6}
      ],
      "outputs": [
        {"name": "text", "type": "STRING", "links": []}
      ],
      "properties": {},
      "widgets_values": [],
      "title": "VRAM Status"
    },
    {
      "id": 8,
      "type": "PerfLab_CapResolution",
      "pos": [100, 580],
      "size": {"0": 240, "1": 120},
      "flags": {},
      "order": 7,
      "mode": 0,
      "inputs": [
        {"name": "width", "type": "INT", "link": null},
        {"name": "height", "type": "INT", "link": null},
        {"name": "max_size", "type": "INT", "link": null},
        {"name": "enabled", "type": "BOOLEAN", "link": null}
      ],
      "outputs": [
        {"name": "width", "type": "INT", "links": []},
        {"name": "height", "type": "INT", "links": []}
      ],
      "properties": {},
      "widgets_values": [1024, 1024, 768, true],
      "title": "üìê Cap Resolution (Testing)"
    },
    {
      "id": 9,
      "type": "PerfLab_Optimizer",
      "pos": [950, 100],
      "size": {"0": 380, "1": 180},
      "flags": {},
      "order": 8,
      "mode": 0,
      "inputs": [
        {"name": "user_message", "type": "STRING", "link": null},
        {"name": "mode", "type": "STRING", "link": null},
        {"name": "workflow_json", "type": "STRING", "link": null},
        {"name": "llm_endpoint", "type": "STRING", "link": null},
        {"name": "performance_report", "type": "STRING", "link": 9}
      ],
      "outputs": [
        {"name": "response", "type": "STRING", "links": [7]},
        {"name": "suggestions", "type": "STRING", "links": []},
        {"name": "variations_json", "type": "STRING", "links": []},
        {"name": "memory_context", "type": "STRING", "links": []}
      ],
      "properties": {},
      "widgets_values": ["My images look too dark", "suggest", "", "http://127.0.0.1:5001"],
      "title": "üß† LLM Optimizer (KoboldCPP/Ollama)"
    },
    {
      "id": 10,
      "type": "PerfLab_ShowText",
      "pos": [950, 330],
      "size": {"0": 380, "1": 150},
      "flags": {},
      "order": 9,
      "mode": 0,
      "inputs": [
        {"name": "text", "type": "STRING", "link": 7}
      ],
      "outputs": [
        {"name": "text", "type": "STRING", "links": []}
      ],
      "properties": {},
      "widgets_values": [],
      "title": "üí° LLM Suggestions"
    },
    {
      "id": 11,
      "type": "PerfLab_ABTest",
      "pos": [950, 530],
      "size": {"0": 380, "1": 260},
      "flags": {},
      "order": 10,
      "mode": 0,
      "inputs": [
        {"name": "a_steps", "type": "INT", "link": null},
        {"name": "a_resolution", "type": "INT", "link": null},
        {"name": "a_cfg", "type": "FLOAT", "link": null},
        {"name": "b_steps", "type": "INT", "link": null},
        {"name": "b_resolution", "type": "INT", "link": null},
        {"name": "b_cfg", "type": "FLOAT", "link": null},
        {"name": "a_label", "type": "STRING", "link": null},
        {"name": "b_label", "type": "STRING", "link": null},
        {"name": "a_duration", "type": "FLOAT", "link": 3},
        {"name": "b_duration", "type": "FLOAT", "link": null}
      ],
      "outputs": [
        {"name": "comparison_report", "type": "STRING", "links": [8]},
        {"name": "a_steps", "type": "INT", "links": []},
        {"name": "a_resolution", "type": "INT", "links": []},
        {"name": "a_cfg", "type": "FLOAT", "links": []},
        {"name": "b_steps", "type": "INT", "links": []},
        {"name": "b_resolution", "type": "INT", "links": []},
        {"name": "b_cfg", "type": "FLOAT", "links": []}
      ],
      "properties": {},
      "widgets_values": [30, 1024, 7.0, 20, 768, 7.0, "Current", "Optimized", 0.0],
      "title": "üî¨ A/B Test Configurations"
    },
    {
      "id": 12,
      "type": "PerfLab_ShowText",
      "pos": [950, 840],
      "size": {"0": 380, "1": 120},
      "flags": {},
      "order": 11,
      "mode": 0,
      "inputs": [
        {"name": "text", "type": "STRING", "link": 8}
      ],
      "outputs": [
        {"name": "text", "type": "STRING", "links": []}
      ],
      "properties": {},
      "widgets_values": [],
      "title": "üìä A/B Comparison"
    },
    {
      "id": 13,
      "type": "PerfLab_Compare",
      "pos": [600, 400],
      "size": {"0": 300, "1": 180},
      "flags": {},
      "order": 12,
      "mode": 0,
      "inputs": [
        {"name": "before_duration", "type": "FLOAT", "link": null},
        {"name": "after_duration", "type": "FLOAT", "link": null},
        {"name": "before_vram", "type": "FLOAT", "link": 4},
        {"name": "after_vram", "type": "FLOAT", "link": null},
        {"name": "before_label", "type": "STRING", "link": null},
        {"name": "after_label", "type": "STRING", "link": null}
      ],
      "outputs": [
        {"name": "comparison", "type": "STRING", "links": [13]}
      ],
      "properties": {},
      "widgets_values": [10.5, 7.2, "Baseline", "Optimized"],
      "title": "üìä Compare Before/After"
    },
    {
      "id": 14,
      "type": "PerfLab_ShowText",
      "pos": [600, 630],
      "size": {"0": 300, "1": 100},
      "flags": {},
      "order": 13,
      "mode": 0,
      "inputs": [
        {"name": "text", "type": "STRING", "link": 13}
      ],
      "outputs": [
        {"name": "text", "type": "STRING", "links": []}
      ],
      "properties": {},
      "widgets_values": [],
      "title": "Optimization Results"
    },
    {
      "id": 15,
      "type": "PerfLab_Feedback",
      "pos": [1380, 100],
      "size": {"0": 320, "1": 180},
      "flags": {},
      "order": 14,
      "mode": 0,
      "inputs": [
        {"name": "choice", "type": "STRING", "link": null},
        {"name": "reason", "type": "STRING", "link": null},
        {"name": "a_settings", "type": "STRING", "link": null},
        {"name": "b_settings", "type": "STRING", "link": null},
        {"name": "previous_memory", "type": "STRING", "link": null}
      ],
      "outputs": [
        {"name": "learning_summary", "type": "STRING", "links": [14]},
        {"name": "updated_memory", "type": "STRING", "links": []}
      ],
      "properties": {},
      "widgets_values": ["A", "Better quality", "{}", "{}"],
      "title": "üëç Record Preference (Memory)"
    },
    {
      "id": 16,
      "type": "PerfLab_ShowText",
      "pos": [1380, 330],
      "size": {"0": 320, "1": 80},
      "flags": {},
      "order": 15,
      "mode": 0,
      "inputs": [
        {"name": "text", "type": "STRING", "link": 14}
      ],
      "outputs": [
        {"name": "text", "type": "STRING", "links": []}
      ],
      "properties": {},
      "widgets_values": [],
      "title": "Learning Progress"
    },
    {
      "id": 17,
      "type": "PerfLab_NetworkSetup",
      "pos": [1380, 460],
      "size": {"0": 320, "1": 120},
      "flags": {},
      "order": 16,
      "mode": 0,
      "inputs": [
        {"name": "scan_range", "type": "STRING", "link": null},
        {"name": "scan_localhost", "type": "BOOLEAN", "link": null},
        {"name": "timeout_ms", "type": "INT", "link": null}
      ],
      "outputs": [
        {"name": "status_report", "type": "STRING", "links": [15]},
        {"name": "litellm_config", "type": "STRING", "links": [16]},
        {"name": "services_found", "type": "INT", "links": []},
        {"name": "endpoints_json", "type": "STRING", "links": []}
      ],
      "properties": {},
      "widgets_values": ["192.168.1.0/24", true, 100],
      "title": "üåê Network Discovery"
    },
    {
      "id": 18,
      "type": "PerfLab_ShowText",
      "pos": [1380, 630],
      "size": {"0": 320, "1": 100},
      "flags": {},
      "order": 17,
      "mode": 0,
      "inputs": [
        {"name": "text", "type": "STRING", "link": 15}
      ],
      "outputs": [
        {"name": "text", "type": "STRING", "links": []}
      ],
      "properties": {},
      "widgets_values": [],
      "title": "Discovered Services"
    },
    {
      "id": 19,
      "type": "PerfLab_ShowText",
      "pos": [1380, 780],
      "size": {"0": 320, "1": 180},
      "flags": {},
      "order": 18,
      "mode": 0,
      "inputs": [
        {"name": "text", "type": "STRING", "link": 16}
      ],
      "outputs": [
        {"name": "text", "type": "STRING", "links": []}
      ],
      "properties": {},
      "widgets_values": [],
      "title": "LiteLLM Config (Copy & Save)"
    },
    {
      "id": 20,
      "type": "PerfLab_ShowText",
      "pos": [380, 350],
      "size": {"0": 180, "1": 180},
      "flags": {},
      "order": 19,
      "mode": 0,
      "inputs": [
        {"name": "text", "type": "STRING", "link": null}
      ],
      "outputs": [
        {"name": "text", "type": "STRING", "links": []}
      ],
      "properties": {},
      "widgets_values": [],
      "title": "üìù Connect AutoFix outputs to KSampler"
    }
  ],
  "links": [
    [1, 1, 0, 2, 1, "PERF_TIMER"],
    [2, 2, 0, 3, 0, "STRING"],
    [3, 2, 1, 11, 8, "FLOAT"],
    [4, 2, 2, 13, 2, "FLOAT"],
    [5, 4, 1, 5, 0, "STRING"],
    [6, 6, 0, 7, 0, "STRING"],
    [7, 9, 0, 10, 0, "STRING"],
    [8, 11, 0, 12, 0, "STRING"],
    [9, 2, 0, 9, 4, "STRING"],
    [10, 4, 3, 20, 0, "INT"],
    [11, 4, 4, 20, 0, "INT"],
    [12, 4, 5, 20, 0, "FLOAT"],
    [13, 13, 0, 14, 0, "STRING"],
    [14, 15, 0, 16, 0, "STRING"],
    [15, 17, 0, 18, 0, "STRING"],
    [16, 17, 1, 19, 0, "STRING"]
  ],
  "groups": [
    {
      "title": "1Ô∏è‚É£ BASIC PERFORMANCE MONITORING",
      "bounding": [80, 50, 540, 320],
      "color": "#3f789e",
      "font_size": 24
    },
    {
      "title": "2Ô∏è‚É£ AUTO GPU DETECTION & SUGGESTIONS",
      "bounding": [80, 200, 280, 530],
      "color": "#8a3",
      "font_size": 24
    },
    {
      "title": "3Ô∏è‚É£ BEFORE/AFTER COMPARISON",
      "bounding": [580, 350, 340, 400],
      "color": "#3a8",
      "font_size": 24
    },
    {
      "title": "4Ô∏è‚É£ LLM-POWERED OPTIMIZATION",
      "bounding": [930, 50, 420, 930],
      "color": "#a83",
      "font_size": 24
    },
    {
      "title": "5Ô∏è‚É£ NETWORK & MULTI-GPU SETUP",
      "bounding": [1360, 50, 360, 930],
      "color": "#88a",
      "font_size": 24
    },
    {
      "title": "YOUR WORKFLOW GOES HERE ‚¨áÔ∏è",
      "bounding": [360, 300, 200, 250],
      "color": "#555",
      "font_size": 24
    }
  ],
  "config": {},
  "extra": {
    "info": {
      "name": "Performance Lab v2.0 - Complete Demo",
      "description": "COMPLETE v2.0 DEMO WORKFLOW:\n\nüéØ QUICK START:\n1. Timer ‚Üí Your Workflow ‚Üí Report (Basic timing)\n2. AutoFix ‚Üí Shows GPU + optimal settings (no LLM needed!)\n3. Cap Resolution ‚Üí Test at 768px, final at 1024px\n\nüß† LLM OPTIMIZATION:\n1. Connect Report to LLM Optimizer\n2. Describe your issue (e.g., 'too dark')\n3. Get specific parameter suggestions\n4. Use A/B Test to compare configs\n5. Record Preference to train the system\n\nüåê MULTI-MACHINE:\n1. Run Network Setup to find KoboldCPP/Ollama\n2. Copy LiteLLM config to ~/.litellm/config.yaml\n3. Run: litellm --config ~/.litellm/config.yaml\n4. Point LLM Optimizer at localhost:4000\n\nüìä COMPARISON:\n1. Run workflow ‚Üí note duration & VRAM\n2. Optimize settings\n3. Run again\n4. Compare Results shows % improvement",
      "version": "2.0.0",
      "author": "Laboratoire Sonore",
      "updated": "2024-01-09"
    }
  },
  "version": 0.4
}
